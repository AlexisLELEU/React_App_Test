{"ast":null,"code":"var _jsxFileName = \"/Users/alexis/Desktop/React_App_Test/src/components/posts/EditForm.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport ErrorForm from './../error/ErrorForm';\nimport { SUBMIT, EMPTY_FORM, API_URL } from './../../Constants';\nimport { METHODS } from '../../Constants';\n\nclass ArticleList extends Component {\n  constructor(props) {\n    super(props);\n\n    this._onEdit = dataEdit => {\n      const pathname = this.props.history.location.pathname;\n      const idEdit = pathname.split('/')[2];\n      dataEdit.preventDefault();\n      console.log(idEdit);\n      fetch(\"\".concat(API_URL, \"/posts/\").concat(+idEdit), {\n        method: METHODS.put,\n        body: JSON.stringify({\n          id: +idEdit,\n          title: this.title.value,\n          body: this.body.value,\n          userId: 1\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(json => this.props.editItem(json));\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"addForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Modifier un article\"), React.createElement(\"form\", {\n      onSubmit: e => this._onEdit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      ref: title => this.title = title,\n      type: \"text\",\n      id: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      ref: body => this.body = body,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button button__from\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, SUBMIT), this.state.error === true ? React.createElement(ErrorForm, {\n      errorMessage: EMPTY_FORM,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }) : null));\n  }\n\n}\n\nexport default withRouter(ArticleList);","map":{"version":3,"sources":["/Users/alexis/Desktop/React_App_Test/src/components/posts/EditForm.js"],"names":["React","Component","withRouter","ErrorForm","SUBMIT","EMPTY_FORM","API_URL","METHODS","ArticleList","constructor","props","_onEdit","dataEdit","pathname","history","location","idEdit","split","preventDefault","console","log","fetch","method","put","body","JSON","stringify","id","title","value","userId","headers","then","response","json","editItem","state","render","e","error"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,SAAQC,MAAR,EAAgBC,UAAhB,EAA4BC,OAA5B,QAA0C,mBAA1C;AACA,SAAQC,OAAR,QAAsB,iBAAtB;;AAGA,MAAMC,WAAN,SAA0BP,SAA1B,CAAoC;AAChCQ,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAOlBC,OAPkB,GAORC,QAAQ,IAAI;AAAA,YAIZC,QAJY,GAOhB,KAAKH,KAPW,CAElBI,OAFkB,CAGdC,QAHc,CAIZF,QAJY;AAQpB,YAAMG,MAAM,GAAGH,QAAQ,CAACI,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAf;AACAL,MAAAA,QAAQ,CAACM,cAAT;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAK,MAAAA,KAAK,WAAIf,OAAJ,oBAAqB,CAACU,MAAtB,GAAgC;AACrCM,QAAAA,MAAM,EAAEf,OAAO,CAACgB,GADqB;AAErCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,EAAE,EAAE,CAACX,MADc;AAEnBY,UAAAA,KAAK,EAAE,KAAKA,KAAL,CAAWC,KAFC;AAGnBL,UAAAA,IAAI,EAAE,KAAKA,IAAL,CAAUK,KAHG;AAInBC,UAAAA,MAAM,EAAE;AAJW,SAAf,CAF+B;AAQrCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAR4B,OAAhC,CAAL,CAYDC,IAZC,CAYIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAZhB,EAaDF,IAbC,CAaIE,IAAI,IAAK,KAAKxB,KAAL,CAAWyB,QAAX,CAAoBD,IAApB,CAbb;AAcD,KAhCiB;;AAEd,SAAKE,KAAL,GAAa,EAAb;AAEH;;AA8BDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADA,EAEA;AAAM,MAAA,QAAQ,EAAEC,CAAC,IAAI,KAAK3B,OAAL,CAAa2B,CAAb,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACE,MAAA,GAAG,EAAEV,KAAK,IAAK,KAAKA,KAAL,GAAaA,KAD9B;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,EAAE,EAAC,OAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAMI;AACE,MAAA,GAAG,EAAEJ,IAAI,IAAK,KAAKA,IAAL,GAAYA,IAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EASI;AAAQ,MAAA,SAAS,EAAC,qBAAlB;AAAwC,MAAA,IAAI,EAAC,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuDpB,MAAvD,CATJ,EAUG,KAAKgC,KAAL,CAAWG,KAAX,KAAqB,IAArB,GAA4B,oBAAC,SAAD;AAAW,MAAA,YAAY,EAAElC,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,GAAqE,IAVxE,CAFA,CADF;AAiBH;;AArDiC;;AAwDpC,eAAeH,UAAU,CAACM,WAAD,CAAzB","sourcesContent":["import React, {Component} from 'react'\nimport { withRouter } from 'react-router-dom'\nimport ErrorForm from './../error/ErrorForm'\nimport {SUBMIT, EMPTY_FORM, API_URL} from './../../Constants'\nimport {METHODS} from '../../Constants'\n\n\nclass ArticleList extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n        };\n    }\n\n\n    _onEdit = dataEdit => {\n      const { \n        history: {\n            location: {\n              pathname\n            }\n        }\n      } = this.props;\n      const idEdit = pathname.split('/')[2];\n      dataEdit.preventDefault();\n      console.log(idEdit)\n      fetch(`${API_URL}/posts/${+idEdit}`, {\n      method: METHODS.put,\n      body: JSON.stringify({\n        id: +idEdit,\n        title: this.title.value,\n        body: this.body.value,\n        userId: 1\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    })\n    .then(response => response.json())\n    .then(json =>  this.props.editItem(json))\n    }\n\n    render() {\n      return (\n        <div className='addForm'>\n        <h3>Modifier un article</h3>\n        <form onSubmit={e => this._onEdit(e)}>\n            <input\n              ref={title => (this.title = title)}\n              type=\"text\"\n              id=\"title\"\n            />\n            <textarea\n              ref={body => (this.body = body)}\n            />\n            <button className='button button__from' type=\"submit\">{SUBMIT}</button>\n          {this.state.error === true ? <ErrorForm errorMessage={EMPTY_FORM}/> : null}\n        </form>\n      </div>\n      )\n  }\n}\n\nexport default withRouter(ArticleList);\n"]},"metadata":{},"sourceType":"module"}