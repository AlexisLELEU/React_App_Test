{"ast":null,"code":"var _jsxFileName = \"/Users/alexis/Desktop/React_App_Test/src/components/photo/Photo-List.js\";\nimport React, { Component } from 'react';\nimport PhotoListItems from './Photo-list-items';\nimport { API_URL, LIMIT, METHODS } from '../../Constants';\nimport Loader from '../loader/loader';\n\nclass PhotoList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      loader: false\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  async handleClick(index) {\n    const data = this.state.data;\n    const response = await fetch(\"\".concat(API_URL, \"/photos/\").concat(index), {\n      method: METHODS.delete\n    });\n\n    if (response.status === 200) {\n      const filterData = data.filter(item => item.id !== index);\n      this.setState({\n        data: filterData\n      });\n    }\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loader: true\n    });\n\n    try {\n      const response = await fetch(\"\".concat(API_URL, \"/photos\").concat(LIMIT));\n      const json = await response.json();\n      this.setState({\n        data: json,\n        loader: false\n      });\n    } catch (error) {\n      console.log(\"ERROR\" + error);\n    }\n  }\n\n  render() {\n    if (this.state.data !== []) {\n      if (this.state.loading == true) {\n        return React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"ul\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, this.state.data.map(el => React.createElement(PhotoListItems, {\n          key: el.id,\n          title: el.title,\n          url: el.url,\n          onClick: () => this.handleClick(el.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        })));\n      }\n    }\n  }\n\n}\n\nexport default PhotoList;","map":{"version":3,"sources":["/Users/alexis/Desktop/React_App_Test/src/components/photo/Photo-List.js"],"names":["React","Component","PhotoListItems","API_URL","LIMIT","METHODS","Loader","PhotoList","constructor","props","state","data","loader","handleClick","bind","index","response","fetch","method","delete","status","filterData","filter","item","id","setState","componentDidMount","json","error","console","log","render","loading","map","el","title","url"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,cAAP,MAA2B,oBAA3B;AACA,SAAQC,OAAR,EAAiBC,KAAjB,EAAwBC,OAAxB,QAAsC,iBAAtC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;;AAEA,MAAMC,SAAN,SAAwBN,SAAxB,CAAkC;AAC9BO,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,MAAM,EAAE;AAFC,KAAb;AAKA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAED,QAAMD,WAAN,CAAkBE,KAAlB,EAAyB;AAAA,UACbJ,IADa,GACJ,KAAKD,KADD,CACbC,IADa;AAErB,UAAMK,QAAQ,GAAG,MAAMC,KAAK,WAAId,OAAJ,qBAAsBY,KAAtB,GAAgC;AAC1DG,MAAAA,MAAM,EAAEb,OAAO,CAACc;AAD0C,KAAhC,CAA5B;;AAIA,QAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,YAAMC,UAAU,GAAGV,IAAI,CAACW,MAAL,CAAYC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYT,KAAhC,CAAnB;AAEA,WAAKU,QAAL,CAAc;AACZd,QAAAA,IAAI,EAAEU;AADM,OAAd;AAGD;AACF;;AAEH,QAAMK,iBAAN,GAA2B;AACzB,SAAKD,QAAL,CAAc;AACZb,MAAAA,MAAM,EAAE;AADI,KAAd;;AAGE,QAAG;AACD,YAAMI,QAAQ,GAAG,MAAMC,KAAK,WAAKd,OAAL,oBAAsBC,KAAtB,EAA5B;AACA,YAAMuB,IAAI,GAAG,MAAMX,QAAQ,CAACW,IAAT,EAAnB;AACA,WAAKF,QAAL,CAAc;AACZd,QAAAA,IAAI,EAAEgB,IADM;AAEZf,QAAAA,MAAM,EAAE;AAFI,OAAd;AAID,KAPD,CAOE,OAAOgB,KAAP,EAAa;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAUF,KAAtB;AACD;AACF;;AAEHG,EAAAA,MAAM,GAAE;AACJ,QAAG,KAAKrB,KAAL,CAAWC,IAAX,KAAoB,EAAvB,EAA0B;AACxB,UAAG,KAAKD,KAAL,CAAWsB,OAAX,IAAsB,IAAzB,EAA8B;AAC5B,eAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFD,MAEO;AACL,eACE;AAAI,UAAA,SAAS,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,GAAhB,CAAoBC,EAAE,IACpB,oBAAC,cAAD;AACE,UAAA,GAAG,EAAEA,EAAE,CAACV,EADV;AAEE,UAAA,KAAK,EAAEU,EAAE,CAACC,KAFZ;AAGE,UAAA,GAAG,EAAED,EAAE,CAACE,GAHV;AAIE,UAAA,OAAO,EAAE,MAAM,KAAKvB,WAAL,CAAiBqB,EAAE,CAACV,EAApB,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADJ,CADF;AAWD;AACF;AACJ;;AA5D6B;;AA+DlC,eAAejB,SAAf","sourcesContent":["import React, {Component} from 'react';\nimport PhotoListItems from './Photo-list-items'\nimport {API_URL, LIMIT, METHODS} from '../../Constants'\nimport Loader from '../loader/loader';\n\nclass PhotoList extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            data: [],\n            loader: false\n        };\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    async handleClick(index) {\n        const { data } = this.state;\n        const response = await fetch(`${API_URL}/photos/${index}` , {\n          method: METHODS.delete\n        });\n        \n        if (response.status === 200) {\n          const filterData = data.filter(item => item.id !== index);\n    \n          this.setState({\n            data: filterData\n          });\n        }\n      }\n\n    async componentDidMount () {\n      this.setState({\n        loader: true\n      })\n        try{\n          const response = await fetch (`${API_URL}/photos${LIMIT}`);\n          const json = await response.json();\n          this.setState({\n            data: json,\n            loader: false\n          })\n        } catch (error){\n          console.log(\"ERROR\" + error)\n        }\n      }\n\n    render(){\n        if(this.state.data !== []){\n          if(this.state.loading == true){\n            return <Loader/>\n          } else {\n            return (\n              <ul className=''>\n                 {this.state.data.map(el => (\n                    <PhotoListItems \n                      key={el.id} \n                      title={el.title} \n                      url={el.url} \n                      onClick={() => this.handleClick(el.id)}/>\n                 ))}\n              </ul>\n            )\n          }\n        }\n    }\n} \n\nexport default PhotoList"]},"metadata":{},"sourceType":"module"}