{"ast":null,"code":"var _jsxFileName = \"/Users/alexis/Desktop/React_App_Test/src/components/posts/Article-list.js\";\nimport React, { Component } from 'react';\nimport ArticleListItem from './Article-list-item';\nimport Loader from '../loader/loader';\nimport AddPost from './AddPost';\nimport UpdatePost from './UpdatePost';\nimport { API_URL, METHODS, LIMIT } from '../../Constants';\nimport { Table } from 'material-ui';\n\nclass ArticleList extends Component {\n  constructor(props) {\n    super(props);\n\n    this._addArticle = tab => {\n      this.setState({\n        loader: true\n      });\n      fetch(\"\\b\".concat(API_URL, \"/posts\"), {\n        method: 'POST',\n        body: JSON.stringify({\n          id: tab.id,\n          userId: 1,\n          title: tab.title,\n          body: tab.body\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(json => this.setState({\n        data: [...this.state.data, json],\n        loader: false\n      }));\n    };\n\n    this._updateForm = (id, title, body) => {\n      var tab = {\n        id: id,\n        title: title,\n        body: body\n      };\n      this.setState({\n        update: true,\n        updateId: tab\n      });\n    };\n\n    this.state = {\n      data: [],\n      loader: false,\n      update: false,\n      updateEl: {}\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loader: true\n    });\n\n    try {\n      const response = await fetch(\"\".concat(API_URL, \"/posts\").concat(LIMIT));\n      const json = await response.json();\n      this.setState({\n        data: json,\n        loader: false\n      });\n    } catch (error) {\n      console.log(\"ERROR\" + error);\n    }\n  }\n\n  async handleClick(index) {\n    const data = this.state.data;\n    const response = await fetch(\"\".concat(API_URL, \"/posts/\").concat(index), {\n      method: METHODS.delete\n    });\n\n    if (response.status === 200) {\n      const filterData = data.filter(item => item.id !== index);\n      this.setState({\n        data: filterData\n      });\n    }\n  } // async _addArticle(body) {\n  //   try {\n  //     const response = await fetch(`${API_URL}/posts`, {\n  //     method: METHODS.post,\n  //     body: JSON.stringify({\n  //       userId: 1,\n  //       title: body.title,\n  //       body: body.body\n  //     }),\n  //     headers: {\n  //     \"Content-type\": \"application/json; charset=UTF-8\"\n  //     }\n  //   })\n  //   const json = await response.json()\n  //     this.setState({\n  //       data: [...this.state.data, json]\n  //     })\n  //   } catch (error){\n  //     console.log(\"ERROR: \" + error)\n  //   }\n  // }\n\n\n  render() {\n    if (this.state.loader) {\n      return React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.update && this.state.updateEl !== {}) {\n      return React.createElement(UpdatePost, {\n        updatedata: this.state.updateEl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.data !== []) {\n      return React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(AddPost, {\n        addArticle: this._addArticle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        className: \"dataList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, console.log(this.state.data), this.state.data.reverse().map(el => React.createElement(ArticleListItem, {\n        key: el.id,\n        title: el.title,\n        body: el.body,\n        onClick: () => this.handleClick(el.id),\n        onUpdate: () => this._updateForm(el.id, el.title, el.body),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nexport default ArticleList;","map":{"version":3,"sources":["/Users/alexis/Desktop/React_App_Test/src/components/posts/Article-list.js"],"names":["React","Component","ArticleListItem","Loader","AddPost","UpdatePost","API_URL","METHODS","LIMIT","Table","ArticleList","constructor","props","_addArticle","tab","setState","loader","fetch","method","body","JSON","stringify","id","userId","title","headers","then","response","json","data","state","_updateForm","update","updateId","updateEl","handleClick","bind","componentDidMount","error","console","log","index","delete","status","filterData","filter","item","render","reverse","map","el"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAAQC,OAAR,EAAiBC,OAAjB,EAA0BC,KAA1B,QAAsC,iBAAtC;AACA,SAASC,KAAT,QAAsB,aAAtB;;AAGA,MAAMC,WAAN,SAA0BT,SAA1B,CAAoC;AAGhCU,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAiElBC,WAjEkB,GAiEJC,GAAG,IAAI;AACnB,WAAKC,QAAL,CAAc;AACZC,QAAAA,MAAM,EAAE;AADI,OAAd;AAGAC,MAAAA,KAAK,aAAKX,OAAL,aAAsB;AACzBY,QAAAA,MAAM,EAAE,MADiB;AAEzBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,EAAE,EAAER,GAAG,CAACQ,EADW;AAEnBC,UAAAA,MAAM,EAAE,CAFW;AAGnBC,UAAAA,KAAK,EAAEV,GAAG,CAACU,KAHQ;AAInBL,UAAAA,IAAI,EAAEL,GAAG,CAACK;AAJS,SAAf,CAFmB;AAQ3BM,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AARkB,OAAtB,CAAL,CAYCC,IAZD,CAYMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAZlB,EAaCF,IAbD,CAaME,IAAI,IAAI,KAAKb,QAAL,CAAc;AAC1Bc,QAAAA,IAAI,EAAE,CAAC,GAAG,KAAKC,KAAL,CAAWD,IAAf,EAAqBD,IAArB,CADoB;AAE1BZ,QAAAA,MAAM,EAAE;AAFkB,OAAd,CAbd;AAiBD,KAtFiB;;AAAA,SAwFlBe,WAxFkB,GAwFJ,CAACT,EAAD,EAAKE,KAAL,EAAYL,IAAZ,KAAoB;AAChC,UAAIL,GAAG,GAAG;AAACQ,QAAAA,EAAE,EAAEA,EAAL;AAASE,QAAAA,KAAK,EAAEA,KAAhB;AAAuBL,QAAAA,IAAI,EAAEA;AAA7B,OAAV;AACA,WAAKJ,QAAL,CAAc;AACZiB,QAAAA,MAAM,EAAC,IADK;AAEZC,QAAAA,QAAQ,EAAEnB;AAFE,OAAd;AAID,KA9FiB;;AAEd,SAAKgB,KAAL,GAAa;AACXD,MAAAA,IAAI,EAAE,EADK;AAEXb,MAAAA,MAAM,EAAE,KAFG;AAGXgB,MAAAA,MAAM,EAAE,KAHG;AAIXE,MAAAA,QAAQ,EAAE;AAJC,KAAb;AAMA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAGD,QAAMC,iBAAN,GAA2B;AACzB,SAAKtB,QAAL,CAAc;AACZC,MAAAA,MAAM,EAAE;AADI,KAAd;;AAGA,QAAG;AACD,YAAMW,QAAQ,GAAG,MAAMV,KAAK,WAAKX,OAAL,mBAAqBE,KAArB,EAA5B;AACA,YAAMoB,IAAI,GAAG,MAAMD,QAAQ,CAACC,IAAT,EAAnB;AACA,WAAKb,QAAL,CAAc;AACZc,QAAAA,IAAI,EAAED,IADM;AAEZZ,QAAAA,MAAM,EAAE;AAFI,OAAd;AAID,KAPD,CAOE,OAAOsB,KAAP,EAAa;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAUF,KAAtB;AACD;AACF;;AAED,QAAMH,WAAN,CAAkBM,KAAlB,EAAyB;AAAA,UACfZ,IADe,GACN,KAAKC,KADC,CACfD,IADe;AAEvB,UAAMF,QAAQ,GAAG,MAAMV,KAAK,WAAIX,OAAJ,oBAAqBmC,KAArB,GAA+B;AACzDvB,MAAAA,MAAM,EAAEX,OAAO,CAACmC;AADyC,KAA/B,CAA5B;;AAIA,QAAIf,QAAQ,CAACgB,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,YAAMC,UAAU,GAAGf,IAAI,CAACgB,MAAL,CAAYC,IAAI,IAAIA,IAAI,CAACxB,EAAL,KAAYmB,KAAhC,CAAnB;AAEA,WAAK1B,QAAL,CAAc;AACZc,QAAAA,IAAI,EAAEe;AADM,OAAd;AAGD;AACF,GA5C+B,CA8ChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAiCAG,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKjB,KAAL,CAAWd,MAAf,EAAuB;AACrB,aAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,QAAI,KAAKc,KAAL,CAAWE,MAAX,IAAqB,KAAKF,KAAL,CAAWI,QAAX,KAAwB,EAAjD,EAAqD;AACnD,aAAO,oBAAC,UAAD;AAAY,QAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWI,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,QAAG,KAAKJ,KAAL,CAAWD,IAAX,KAAoB,EAAvB,EAA0B;AACxB,aACA;AAAK,QAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,UAAU,EAAE,KAAKhB,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAI,QAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG0B,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWD,IAAvB,CADH,EAEK,KAAKC,KAAL,CAAWD,IAAX,CAAgBmB,OAAhB,GAA0BC,GAA1B,CAA8BC,EAAE,IAC7B,oBAAC,eAAD;AACE,QAAA,GAAG,EAAEA,EAAE,CAAC5B,EADV;AAEE,QAAA,KAAK,EAAE4B,EAAE,CAAC1B,KAFZ;AAGE,QAAA,IAAI,EAAE0B,EAAE,CAAC/B,IAHX;AAIE,QAAA,OAAO,EAAE,MAAM,KAAKgB,WAAL,CAAiBe,EAAE,CAAC5B,EAApB,CAJjB;AAKE,QAAA,QAAQ,EAAE,MAAM,KAAKS,WAAL,CAAiBmB,EAAE,CAAC5B,EAApB,EAAuB4B,EAAE,CAAC1B,KAA1B,EAAiC0B,EAAE,CAAC/B,IAApC,CALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,CAFL,CAFF,CADA;AAiBH;AACF;;AA7HiC;;AAgIpC,eAAeT,WAAf","sourcesContent":["import React, {Component} from 'react'\nimport ArticleListItem from './Article-list-item'\nimport Loader from '../loader/loader';\nimport AddPost from './AddPost';\nimport UpdatePost from './UpdatePost'\nimport {API_URL, METHODS, LIMIT} from '../../Constants'\nimport { Table } from 'material-ui';\n\n\nclass ArticleList extends Component {\n\n\n    constructor(props){\n        super(props)\n        this.state = {\n          data: [],\n          loader: false,\n          update: false,\n          updateEl: {}\n        };\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n\n    async componentDidMount () {\n      this.setState({\n        loader: true\n      })\n      try{\n        const response = await fetch (`${API_URL}/posts${LIMIT}`);\n        const json = await response.json();\n        this.setState({\n          data: json,\n          loader: false\n        })\n      } catch (error){\n        console.log(\"ERROR\" + error)\n      }\n    }\n\n    async handleClick(index) {\n      const { data } = this.state;\n      const response = await fetch(`${API_URL}/posts/${index}` , {\n        method: METHODS.delete\n      });\n      \n      if (response.status === 200) {\n        const filterData = data.filter(item => item.id !== index);\n  \n        this.setState({\n          data: filterData\n        });\n      }\n    }\n\n    // async _addArticle(body) {\n    //   try {\n    //     const response = await fetch(`${API_URL}/posts`, {\n    //     method: METHODS.post,\n    //     body: JSON.stringify({\n    //       userId: 1,\n    //       title: body.title,\n    //       body: body.body\n    //     }),\n    //     headers: {\n    //     \"Content-type\": \"application/json; charset=UTF-8\"\n    //     }\n    //   })\n    //   const json = await response.json()\n    //     this.setState({\n    //       data: [...this.state.data, json]\n    //     })\n    //   } catch (error){\n    //     console.log(\"ERROR: \" + error)\n    //   }\n    // }\n\n    _addArticle = tab => {\n      this.setState({\n        loader: true\n      });\n      fetch(`\b${API_URL}/posts`, {\n        method: 'POST',\n        body: JSON.stringify({\n          id: tab.id,\n          userId: 1,\n          title: tab.title,\n          body: tab.body\n        }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n      })\n      .then(response => response.json())\n      .then(json => this.setState({\n        data: [...this.state.data, json],\n        loader: false\n      }))\n    }\n\n    _updateForm = (id, title, body) =>{\n      var tab = {id: id, title: title, body: body}\n      this.setState({\n        update:true,\n        updateId: tab\n      })\n    }\n\n    render() {\n      if (this.state.loader) {\n        return <Loader />;\n      }\n      if (this.state.update && this.state.updateEl !== {}) {\n        return <UpdatePost updatedata={this.state.updateEl} />;\n      }      \n      if(this.state.data !== []){\n        return (\n        <div className=''>\n          <AddPost addArticle={this._addArticle}/>\n          <ul className='dataList'>\n            {console.log(this.state.data)}\n              {this.state.data.reverse().map(el => (\n                  <ArticleListItem \n                    key={el.id} \n                    title={el.title} \n                    body={el.body} \n                    onClick={() => this.handleClick(el.id)}\n                    onUpdate={() => this._updateForm(el.id,el.title, el.body)}\n                  />\n              ))}\n            </ul>    \n        </div>\n      )\n    }\n  }\n}\n\nexport default ArticleList\n\n\n\n\n  "]},"metadata":{},"sourceType":"module"}