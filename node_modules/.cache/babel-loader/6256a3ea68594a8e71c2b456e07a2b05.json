{"ast":null,"code":"var _jsxFileName = \"/Users/alexis/Desktop/React_App_Test/src/container/Article-list.js\";\nimport React, { Component } from 'react';\nimport ArticleListItem from '../components/Article-list-item';\nimport { API_URL, METHODS } from '../Constants';\n\nclass ArticleList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  async handleClick(index) {\n    const data = this.state.data;\n    const response = await fetch(\"\".concat(API_URL, \"/posts/\").concat(index), {\n      method: METHODS.delete\n    });\n\n    if (response.status === 200) {\n      const filterData = data.filter(item => item.id !== index);\n      this.setState({\n        data: filterData\n      });\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await fetch(\"\".concat(API_URL, \"/posts?_limit=10\"));\n      const json = await response.json();\n      this.setState({\n        data: json\n      });\n    } catch (error) {\n      console.log(\"ERROR\" + error);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.props.list.map(el => React.createElement(ArticleListItem, {\n      key: el.id,\n      title: el.title,\n      body: el.body,\n      id: el.id,\n      onClick: () => this.handleClick(el.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default ArticleList;","map":{"version":3,"sources":["/Users/alexis/Desktop/React_App_Test/src/container/Article-list.js"],"names":["React","Component","ArticleListItem","API_URL","METHODS","ArticleList","constructor","props","state","handleClick","bind","index","data","response","fetch","method","delete","status","filterData","filter","item","id","setState","componentDidMount","json","error","console","log","render","list","map","el","title","body"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,eAAP,MAA4B,iCAA5B;AAEA,SAAQC,OAAR,EAAiBC,OAAjB,QAA+B,cAA/B;;AAGA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAGhCK,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa,EAAb;AAEA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAED,QAAMD,WAAN,CAAkBE,KAAlB,EAAyB;AAAA,UACfC,IADe,GACN,KAAKJ,KADC,CACfI,IADe;AAEvB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,WAAIX,OAAJ,oBAAqBQ,KAArB,GAA+B;AACzDI,MAAAA,MAAM,EAAEX,OAAO,CAACY;AADyC,KAA/B,CAA5B;;AAIA,QAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,YAAMC,UAAU,GAAGN,IAAI,CAACO,MAAL,CAAYC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYV,KAAhC,CAAnB;AAEA,WAAKW,QAAL,CAAc;AACZV,QAAAA,IAAI,EAAEM;AADM,OAAd;AAGD;AACF;;AAED,QAAMK,iBAAN,GAA2B;AACzB,QAAG;AACD,YAAMV,QAAQ,GAAG,MAAMC,KAAK,WAAKX,OAAL,sBAA5B;AACA,YAAMqB,IAAI,GAAG,MAAMX,QAAQ,CAACW,IAAT,EAAnB;AACA,WAAKF,QAAL,CAAc;AAACV,QAAAA,IAAI,EAAEY;AAAP,OAAd;AACD,KAJD,CAIE,OAAOC,KAAP,EAAa;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAUF,KAAtB;AACD;AACF;;AAGDG,EAAAA,MAAM,GAAG;AAET,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKrB,KAAL,CAAWsB,IAAX,CAAgBC,GAAhB,CAAoBC,EAAE,IACnB,oBAAC,eAAD;AACE,MAAA,GAAG,EAAEA,EAAE,CAACV,EADV;AAEE,MAAA,KAAK,EAAEU,EAAE,CAACC,KAFZ;AAGE,MAAA,IAAI,EAAED,EAAE,CAACE,IAHX;AAIE,MAAA,EAAE,EAAEF,EAAE,CAACV,EAJT;AAKE,MAAA,OAAO,EAAE,MAAM,KAAKZ,WAAL,CAAiBsB,EAAE,CAACV,EAApB,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,CADL,CADF,CADF;AAeD;;AArDiC;;AAwDpC,eAAehB,WAAf","sourcesContent":["import React, {Component} from 'react'\nimport ArticleListItem from '../components/Article-list-item';\n\nimport {API_URL, METHODS} from '../Constants'\n\n\nclass ArticleList extends Component {\n\n\n    constructor(props){\n        super(props)\n        this.state = {};\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    async handleClick(index) {\n      const { data } = this.state;\n      const response = await fetch(`${API_URL}/posts/${index}` , {\n        method: METHODS.delete\n      });\n      \n      if (response.status === 200) {\n        const filterData = data.filter(item => item.id !== index);\n  \n        this.setState({\n          data: filterData\n        });\n      }\n    }\n\n    async componentDidMount () {\n      try{\n        const response = await fetch (`${API_URL}/posts?_limit=10`);\n        const json = await response.json();\n        this.setState({data: json})\n      } catch (error){\n        console.log(\"ERROR\" + error)\n      }\n    }\n  \n\n    render() {\n      \n    return (\n      <div>\n        <ul>\n            {this.props.list.map(el => (\n                <ArticleListItem \n                  key={el.id} \n                  title={el.title} \n                  body={el.body} \n                  id={el.id}\n                  onClick={() => this.handleClick(el.id)}\n                />\n            ))}\n          </ul>    \n      </div>\n    )\n  }\n}\n\nexport default ArticleList\n\n\n\n\n  "]},"metadata":{},"sourceType":"module"}